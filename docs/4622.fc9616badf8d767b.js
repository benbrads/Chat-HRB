"use strict";(self.webpackChunkchatHRB=self.webpackChunkchatHRB||[]).push([[4622],{4622:(w,b,h)=>{h.r(b),h.d(b,{hrb_video:()=>_});var u=h(5861),s=h(6604),m=h(8930),c=h(6120);const p={autoplayQueryParam:"autoplay=1",baseClassname:"hrb-video",buttonAriaLabel:"play video",youtubeApiUrl:"//www.youtube.com/iframe_api"},_=class{constructor(a){(0,s.r)(this,a),this.hrbStateChange=(0,s.c)(this,"hrbStateChange",7),this.hrbReady=(0,s.c)(this,"hrbReady",7),this.aspectRatio="16/9",this.autoplay=!1,this.muted=!1,this.height=390,this.width=640,this.requestedPlay=!1,this.hasPlayedVideo=!1,this.player=null,this.playerStateTypeMap={unstarted:-1,ended:0,playing:1,paused:2,buffering:3,videoCued:5},this.validateAspectRatio=()=>{const{aspectRatio:t}=this;m.n.test(t)||console.error(`<hrb-video /> : "${t}" is not a valid aspect-ratio value. Expected format: int/int`)},this.loadYTApiScript=()=>{const t=document.getElementsByTagName("script")[0];if(c.f.push(this.createVideo),t.src===`${window.location.protocol}${p.youtubeApiUrl}`)return;window.onYouTubeIframeAPIReady=this.callFunctionQueue;const i=document.createElement("script");i.src=`${window.location.protocol}${p.youtubeApiUrl}`,t.parentNode.insertBefore(i,t)},this.callFunctionQueue=()=>{Object.values(c.f).forEach((t,e)=>{c.f.splice(e,1),t()})},this.setIframeTabindex=()=>{const{hasPlayedVideo:t,poster:e,posterSrcset:i,slotContainer:o}=this;o.querySelector("iframe").tabIndex=t||!e&&!i?0:-1},this.onPlayerReady=t=>{const{autoplay:e,muted:i}=this;i&&this.muteVideo();const o=t.target.getVideoData();this.updateIframeTitle(o.title),e&&(this.requestedPlay=!0),this.hrbReady.emit()},this.updateIframeTitle=t=>{const e=this.slotContainer.querySelector("iframe");e&&t&&e.setAttribute("title",t)},this.onPlayerStateChange=t=>{const{autoplay:e,hasPlayedVideo:i,playerStateTypeMap:o}=this,r=Object.keys(window.YT.PlayerState).reduce((d,l)=>window.YT.PlayerState[l]===t.data?l:d),n=Object.assign(Object.assign({},t),{status:r});this.hrbStateChange.emit(n),t.data===o.playing&&!i&&(this.hasPlayedVideo=!0,this.setIframeTabindex()),t.data===o.unstarted&&!i&&e&&(this.requestedPlay=!1)},this.createVideo=()=>{const{autoplay:t,height:e,removeControls:i,videoContainer:o,videoId:r,width:n}=this;!window.YT.Player||(this.player=new window.YT.Player(o,{height:e,width:n,videoId:r,events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange},playerVars:{autoplay:t?1:0,controls:i?0:1}}),this.setIframeTabindex())},this.playVideo=()=>{!this.player||(this.requestedPlay=!0,this.setIframeTabindex(),this.player.playVideo())},this.stopVideo=()=>{!this.player||this.player.stopVideo()},this.pauseVideo=()=>{!this.player||this.player.pauseVideo()},this.muteVideo=()=>{!this.player||this.player.mute()},this.unMuteVideo=()=>{!this.player||this.player.unMute()},this.renderPosterButton=()=>{const{hasPlayedVideo:t,playVideo:e,poster:i,posterSrcset:o,pTitle:r,requestedPlay:n}=this,{baseClassname:d,buttonAriaLabel:l}=p;return(0,s.h)("button",{"aria-label":l,class:`${d}__button`,onClick:e,type:"button",tabIndex:t?-1:0},(0,s.h)("span",{class:`${d}__button-content`},(0,s.h)("hrb-circled",{size:"medium",class:`${d}__play-icon`,"p-aria-label":l},n?(0,s.h)("hrb-loader",null):(0,s.h)("hrb-icon",{name:"play"})),(0,s.h)("hrb-img",{src:i,srcset:o,alt:r,class:`${d}__poster`})))}}play(){var a=this;return(0,u.Z)(function*(){a.playVideo()})()}stop(){var a=this;return(0,u.Z)(function*(){a.stopVideo()})()}pause(){var a=this;return(0,u.Z)(function*(){a.pauseVideo()})()}watchMutedHandler(a){a?this.muteVideo():this.unMuteVideo()}componentWillLoad(){this.validateAspectRatio()}componentDidLoad(){const{createVideo:a,loadYTApiScript:t}=this;typeof window>"u"||(window.YT&&window.YT.Player?a():t())}render(){const{aspectRatio:a,hasPlayedVideo:t,poster:e,posterSrcset:i,renderPosterButton:o}=this,{baseClassname:r}=p,n=(0,c.r)(a),d=!!e||!!i,v=(0,c.g)([`${r}`,(t||!d)&&`${r}--is-active`]);return(0,s.h)(s.H,{class:v},(0,s.h)("span",{class:`${r}__video-container`,style:{"padding-bottom":`${n}%`}},d&&o(),(0,s.h)("span",{class:`${r}__video`,ref:y=>{this.slotContainer=y}},(0,s.h)("span",{ref:y=>{this.videoContainer=y}}))))}static get watchers(){return{muted:["watchMutedHandler"]}}};_.style=".hrb-video{display:block}.hrb-video__video-container{display:block;position:relative}.hrb-video__button{background-color:#f1f5f7;bottom:0;display:block;height:100%;left:0;opacity:1;position:absolute;right:0;top:0;-webkit-transition:opacity 400ms ease, z-index 400ms ease;transition:opacity 400ms ease, z-index 400ms ease;width:100%;z-index:1}.hrb-video--is-active .hrb-video__button{opacity:0;pointer-events:none;-webkit-transition-delay:50ms;transition-delay:50ms;z-index:-1}.hrb-video__button-content{display:-ms-flexbox;display:flex;height:100%;width:100%}.hrb-video__play-icon{margin:auto;position:relative;z-index:2}.hrb-video__play-icon .hrb-icon{color:#008427;-webkit-transform:translateZ(0);transform:translateZ(0)}.hrb-video__poster{bottom:0;display:block;left:0;position:absolute;right:0;top:0;-webkit-transition:opacity 200ms ease;transition:opacity 200ms ease}.hrb-video__button:hover .hrb-video__poster,.hrb-video__button:focus .hrb-video__poster{opacity:0.7}.hrb-video__video{bottom:0;display:block;left:0;position:absolute;right:0;top:0;-webkit-transition:z-index 200ms ease;transition:z-index 200ms ease;z-index:0}.hrb-video__video>iframe{height:100%;opacity:0;-webkit-transition:opacity 200ms 200ms ease;transition:opacity 200ms 200ms ease;width:100%}.hrb-video--is-active .hrb-video__video{z-index:1}.hrb-video--is-active .hrb-video__video>iframe{opacity:1}"}}]);