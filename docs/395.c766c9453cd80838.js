"use strict";(self.webpackChunkchatHRB=self.webpackChunkchatHRB||[]).push([[395],{395:(Pt,W,I)=>{I.r(W),I.d(W,{hrb_autocomplete:()=>G});var K=I(5861),C=I(6604),z=I(6120),F=I(4438),ut=function lt(d,e,s){return d(s={path:e,exports:{},require:function(r,h){return function ct(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},s.exports),s.exports}(function(d,e){var s;s=function(){function h(i){return i.innerHTML=""}function b(i,t,n,l,c,f){l({event:i,query:t instanceof HTMLInputElement?t.value:t.innerHTML,matches:c.matches,results:c.list.map(function(o){return o.value}),selection:c.list.find(function(o){return i.keyCode===H?o.index===Number(f.getAttribute(p)):"mousedown"===i.type?o.index===Number(i.currentTarget.getAttribute(p)):void 0})}),h(n)}function a(i,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(i,t.bubbles,t.cancelable,t.detail),n}var p="data-id",T="autoComplete_selected",H=13,M=function(i){return"string"==typeof i?document.querySelector(i):i()},x=function(i){return"<span class=".concat("autoComplete_highlighted",">").concat(i,"</span>")},S=h;a.prototype=window.Event.prototype;var B={CustomEventWrapper:"function"==typeof window.CustomEvent&&window.CustomEvent||a,initElementClosestPolyfill:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(i){var t=this;do{if(t.matches(i))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}};return function(){function i(t){!function(Rt,Dt){if(!(Rt instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,i);var n=t.selector,l=void 0===n?"#autoComplete":n,c=t.data,f=c.key,o=c.src,u=c.cache,_=void 0===u||u,m=t.query,v=t.trigger,w=(v=void 0===v?{}:v).event,E=void 0===w?["input"]:w,g=v.condition,y=void 0!==g&&g,D=t.searchEngine,k=void 0===D?"strict":D,J=t.threshold,ft=void 0===J?0:J,Z=t.debounce,mt=void 0===Z?0:Z,A=t.resultsList,Q=(A=void 0===A?{}:A).render,X=void 0!==Q&&Q,Y=A.container,tt=A.position,gt=void 0===tt?"afterend":tt,et=A.element,yt=void 0===et?"ul":et,nt=A.navigation,_t=void 0!==nt&&nt,st=t.sort,Ct=void 0!==st&&st,wt=t.placeHolder,it=t.maxResults,xt=void 0===it?5:it,j=t.resultItem,ot=(j=void 0===j?{}:j).content,Et=void 0!==ot&&ot,rt=j.element,Lt=void 0===rt?"li":rt,kt=t.noResults,at=t.highlight,At=void 0!==at&&at,Ot=t.onSelection,It=X?function(i){var t=document.createElement(i.element);return t.setAttribute("id","autoComplete_list"),i.container&&i.container(t),i.destination.insertAdjacentElement(i.position,t),t}({container:void 0!==Y&&Y,destination:A.destination||M(l),position:gt,element:yt}):null;this.selector=l,this.data={src:function(){return"function"==typeof o?o():o},key:f,cache:_},this.query=m,this.trigger={event:E,condition:y},this.searchEngine="loose"===k?"loose":"function"==typeof k?k:"strict",this.threshold=ft,this.debounce=mt,this.resultsList={render:X,view:It,navigation:_t},this.sort=Ct,this.placeHolder=wt,this.maxResults=xt,this.resultItem={content:Et,element:Lt},this.noResults=kt,this.highlight=At,this.onSelection=Ot,this.init()}return n=[{key:"search",value:function(t,n){var l=n.toLowerCase();if("loose"===this.searchEngine){t=t.replace(/ /g,"");for(var c=[],f=0,o=0;o<l.length;o++){var u=n[o];f<t.length&&l[o]===t[f]&&(u=this.highlight?x(u):u,f++),c.push(u)}return f===t.length&&c.join("")}if(l.includes(t))return t=new RegExp("".concat(t),"i").exec(n),this.highlight?n.replace(t,x(t)):n}},{key:"listMatchedResults",value:function(t){var n=this;return new Promise(function(l){var c=[];t.filter(function(o,u){function _(y){var D=y?o[y]:o;if(D){var k="function"==typeof n.searchEngine?n.searchEngine(n.queryValue,D):n.search(n.queryValue,D);k&&y?c.push({key:y,index:u,match:k,value:o}):k&&!y&&c.push({index:u,match:k,value:o})}}if(n.data.key){var m=!0,v=!1,w=void 0;try{for(var E,g=n.data.key[Symbol.iterator]();!(m=(E=g.next()).done);m=!0)_(E.value)}catch(y){v=!0,w=y}finally{try{m||null==g.return||g.return()}finally{if(v)throw w}}}else _()});var f=n.sort?c.sort(n.sort).slice(0,n.maxResults):c.slice(0,n.maxResults);return l({matches:c.length,list:f})})}},{key:"ignite",value:function(){var t=this,n=M(this.selector);this.placeHolder&&n.setAttribute("placeholder",this.placeHolder),this.trigger.event.forEach(function(c){var f,o,u;n.addEventListener(c,(f=function(f){return function l(c){Promise.resolve(t.data.cache?t.dataStream:t.data.src()).then(function(f){t.dataStream=f,function(o){function u(g,y){n.dispatchEvent(new B.CustomEventWrapper("autoComplete",{bubbles:!0,detail:{event:g,input:_,query:m,matches:y?y.matches:null,results:y?y.list:null},cancelable:!0}))}var _=n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement?n.value.toLowerCase():n.innerHTML.toLowerCase(),m=t.queryValue=t.query&&t.query.manipulate?t.query.manipulate(_):_,v=t.resultsList.render,w=t.trigger.condition?t.trigger.condition(m):m.length>t.threshold&&m.replace(/ /g,"").length;if(v){var E=t.resultsList.view;S(E),w?t.listMatchedResults(t.dataStream,o).then(function(g){u(o,g),t.resultsList.render&&(0===g.list.length&&t.noResults?t.noResults():(function(i,t,n){var l=document.createDocumentFragment();t.forEach(function(c,f){var o=document.createElement(n.element);o.setAttribute(p,t[f].index),o.setAttribute("class","autoComplete_result"),n.content?n.content(c,o):o.innerHTML=c.match||c,l.appendChild(o)}),i.appendChild(l)}(E,g.list,t.resultItem),t.onSelection&&(t.resultsList.navigation?t.resultsList.navigation(o,n,E,t.onSelection,g):function(i,t,n,l){function c(v){m.classList.remove(T),o=1===v?m.nextSibling:m.previousSibling}function f(v){(m=v).classList.add(T)}var o,u=t.childNodes,_=u.length-1,m=void 0;i.onkeydown=function(v){if(0<u.length)switch(v.keyCode){case 38:m?(c(0),f(o||u[_])):f(u[_]);break;case 40:m?(c(1),f(o||u[0])):f(u[0]);break;case H:m&&b(v,i,t,n,l,m)}},u.forEach(function(v){v.onmousedown=function(w){return b(w,i,t,n,l)}})}(n,E,t.onSelection,g))))}):u(o)}else!v&&w&&t.listMatchedResults(t.dataStream,o).then(function(g){u(o,g)})}(c)})}(f)},o=t.debounce,function(){var _=this,m=arguments;clearTimeout(u),u=setTimeout(function(){return f.apply(_,m)},o)}))})}},{key:"init",value:function(){var t=this;this.data.cache?Promise.resolve(this.data.src()).then(function(n){t.dataStream=n,t.ignite()}):this.ignite(),B.initElementClosestPolyfill()}}],n&&function r(i,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}(i.prototype,n),i;var n}()},d.exports=s()});const R={baseClassname:"hrb-autocomplete",containerId:"autoComplete_list",inputIcons:{chevronDown:"chevron-down",chevronUp:"chevron-up"},selectedItemClass:"autoComplete_selected"},G=class{constructor(d){(0,C.r)(this,d),this.debounce=150,this.disabled=!1,this.hasError=!1,this.loading=!1,this.inputId=(0,z.a)(),this.label="",this.maxResults=20,this.threshold=3,this.type="text",this.hasResults=!1,this.showDropdownAboveInput=!1,this.isFocused=!1,this.activedescendant="",this.hasCheckedOptionListPosition=!1,this.hasInitialized=!1,this.clearAndReInit=()=>{this.hasInitialized=!1;const e=this.resultsContainerRef.querySelector(`.${R.baseClassname}__results-list`);e&&e.remove(),this.init()},this.init=()=>{const{debounce:e,threshold:s,maxResults:r}=this,{baseClassname:h}=R,b=0===s?s:s-1;this.hasInitialized=!0,new ut({data:{src:this.getData,cache:!1},query:{manipulate:a=>((!a.length||a.length<=b)&&(this.hasResults=!1,this.resetOptionListPositionCheck()),a)},resultsList:{container:a=>{a.setAttribute("class",`${h}__results-list`),a.setAttribute("role","listbox")},destination:document.querySelector(`#${this.inputId}__results`),position:"afterbegin",render:!0},resultItem:{content:(a,p)=>{const{checkOptionListPosition:O,hasCheckedOptionListPosition:L,isFocused:P}=this;this.hasResults=!0,p.setAttribute("class",`${h}__results-item`),p.setAttribute("aria-selected","false"),p.setAttribute("role","option"),p.setAttribute("tabindex","-1"),p.setAttribute("id",`${h}-option__${a.index}`),p.innerText=a.match,P&&!L&&O()}},noResults:()=>{this.hasResults=!1,this.resetOptionListPositionCheck()},sort:(a,p)=>(0,z.s)(a,p),onSelection:a=>{const{selection:p}=a;this.hasResults=!1,this.resetOptionListPositionCheck(),p&&p.match&&this.setValue(p.match)},selector:`#${this.inputId}`,maxResults:r,threshold:b,debounce:e})},this.selectData=()=>{const{injectedData:e}=this;if(e)return e;const s=this.slotContainerRef.querySelector("script");return!!s&&JSON.parse(s.innerHTML)||null},this.getObjectDataByKey=()=>{const e=this.getKeys(),s=this.selectData();if(!s)return null;const r=s.map(b=>e.map(a=>b[a]));return[].concat(...r)},this.getObjectDataAsArray=()=>{const e=this.selectData();if(!e)return null;const s=e.map(h=>Object.values(h));return[].concat(...s)},this.getData=()=>{const e=this.getKeys(),s=this.selectData();return s?e&&e.length?this.getObjectDataByKey():e||"object"!=typeof s[0]?s:this.getObjectDataAsArray():null},this.getKeys=()=>{const{keys:e}=this;return e?e.replace(/ /g,"").split(","):null},this.setValue=e=>{this.value="\xa0",window.requestAnimationFrame(()=>this.value=e)},this.resetOptionListPositionCheck=()=>{this.hasCheckedOptionListPosition=!1,window.removeEventListener("scroll",this.checkOptionListPosition)},this.checkOptionListPosition=()=>{const{containerRef:e,resultsContainerRef:s,showDropdownAboveInput:r}=this,{containerId:h}=R,a=((d,e)=>{const s=window.innerHeight,{bottom:r,top:h}=d.getBoundingClientRect(),{height:b,maxHeight:a}=getComputedStyle(e),p=parseInt(a&&"none"!==a?a:b,10);return!(p>h)&&r+p>s})(e,s.querySelector(`#${h}`));this.hasCheckedOptionListPosition=!0,r!==a&&(this.showDropdownAboveInput=a),window.addEventListener("scroll",this.checkOptionListPosition)},this.setOptionItemAccessibilityAttributes=()=>{const{resultsContainerRef:e}=this,{selectedItemClass:s}=R,r=e.querySelectorAll("li"),h=e.querySelector(`.${s}`);r.forEach(b=>{b.setAttribute("aria-selected","false")}),h.setAttribute("aria-selected","true"),this.activedescendant=h.id},this.positionOptionList=()=>{const{resultsContainerRef:e}=this,{containerId:s,selectedItemClass:r}=R,h=e.querySelector(`#${s}`);((d,e)=>{const s=e,{clientHeight:r,scrollHeight:h,scrollTop:b}=e;if(!d)return void(s.scrollTop=0);const{offsetTop:a,offsetHeight:p}=d;if(h>r){const L=a+p;L>r+b?s.scrollTop=L-r:a<b&&(s.scrollTop=a-15)}})(e.querySelector(`.${r}`),h)},this.onKeyDown=e=>{const{keyCode:s,key:r}=e;F.u.includes(r?F.k[r]:F.a[s])&&(e.preventDefault(),this.positionOptionList(),this.setOptionItemAccessibilityAttributes())}}getElement(){var d=this;return(0,K.Z)(function*(){return d.hrbInputRef.querySelector("input")})()}setData(d){var e=this;return(0,K.Z)(function*(){e.injectedData=d,e.clearAndReInit()})()}setFocus(){var d=this;return(0,K.Z)(function*(){d.el.querySelector(`#${d.inputId}`).focus()})()}handleChange(){this.isFocused=!1,this.resetOptionListPositionCheck()}handleBlur(){const{checkOptionListPosition:d,hasCheckedOptionListPosition:e,hasResults:s}=this;this.isFocused=!0,s&&!e&&d()}componentDidLoad(){const{hasInitialized:d,init:e,selectData:s}=this,r=s();!d&&r&&e()}componentDidUpdate(){const{hasInitialized:d,init:e,selectData:s}=this,r=s();!d&&r&&e()}disconnectedCallback(){this.resetOptionListPositionCheck()}render(){const{activedescendant:d,disabled:e,errorLabel:s,hasError:r,hasResults:h,helperText:b,inputId:a,isFocused:p,label:O,loading:L,name:P,onKeyDown:T,readonly:H,required:U,showDropdownAboveInput:N,type:M,value:q}=this,{baseClassname:x,inputIcons:$}=R,V=h&&p?$.chevronUp:$.chevronDown,S=h&&p,B=(0,z.g)([`${x}__results-container`,S&&`${x}__results-container--is-open`,N&&`${x}__results-container--has-top-dropdown`]);return(0,C.h)(C.H,null,(0,C.h)("span",{class:x,role:"combobox","aria-controls":`${a}__results`,"aria-expanded":S?"true":"false",ref:i=>this.containerRef=i},(0,C.h)("hrb-input",{autocomplete:"off",disabled:e,errorLabel:s,forceIconVisibility:!0,hasError:r,helperText:b,icon:V,onKeyDown:T,inputId:a,label:O,loading:L,name:P,"p-activedescendant":d,"p-aria-autocomplete":"list","p-aria-multiline":"false","p-aria-owns":`${a}__results`,readonly:H,required:U,type:M,value:q,ref:i=>this.hrbInputRef=i}),(0,C.h)("span",{class:B,id:`${a}__results`,"aria-hidden":S?"false":"true",ref:i=>this.resultsContainerRef=i})),(0,C.h)("span",{"aria-hidden":"true",class:`${x}__slots`,ref:i=>this.slotContainerRef=i},(0,C.h)("slot",null)),(0,C.h)("span",{"aria-atomic":"true","aria-live":"assertive",class:`${x}__live-region`,role:"dialog"},q))}get el(){return(0,C.g)(this)}};G.style='hrb-autocomplete{display:block;position:relative}.hrb-autocomplete__results-container{display:none;left:0;padding-top:8px;position:absolute;right:0;top:80px;z-index:99}.hrb-autocomplete__results-container.hrb-autocomplete__results-container--has-top-dropdown{bottom:100%;padding-bottom:8px;padding-top:0;top:auto}.hrb-autocomplete__results-container--is-open{display:block}.hrb-autocomplete__results-list{background-color:#ffffff;border-radius:16px;-webkit-box-shadow:0 10px 20px 5px rgba(0, 0, 0, 0.12);box-shadow:0 10px 20px 5px rgba(0, 0, 0, 0.12);max-height:270px;outline:none;overflow-x:hidden;overflow-y:scroll}.hrb-autocomplete__results-item{font-family:"Graphik", "Helvetica Neue", "Helvetica", sans-serif;font-style:normal;font-weight:400;font-size:1rem;line-height:1.5;-webkit-box-sizing:border-box;box-sizing:border-box;color:#262626;cursor:default;display:block;padding:14px 20px;position:relative;text-align:left;width:100%}@media (min-width: 900px){.hrb-autocomplete__results-item{font-size:1.125rem;line-height:1.5555555556}}.hrb-autocomplete__results-item:hover,.hrb-autocomplete__results-item:focus,.hrb-autocomplete__results-item.autoComplete_selected{background-color:#f1f5f7;outline:none}.hrb-autocomplete__results-item:first-child{margin-top:15px}.hrb-autocomplete__results-item:last-child{margin-bottom:15px}.hrb-autocomplete__live-region{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}'}}]);